# ============================================
# Zinnia 环境变量配置模板
# 复制此文件为 .env 并填入实际值
# ============================================

# 服务配置
APP_HOST=127.0.0.1
APP_PORT=8080
APP_ENV=development
RUST_LOG=info,zinnia=debug

# 数据库配置 (TimescaleDB)
DATABASE_URL=postgres://zinnia:your_password_here@localhost:5432/zinnia
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5

# Redis 配置
REDIS_URL=redis://:your_redis_password@localhost:6379/0

# 安全配置
JWT_SECRET=your_jwt_secret_key_at_least_256_bits_long_here
JWT_EXPIRY_SECONDS=900
REFRESH_TOKEN_EXPIRY_DAYS=7

# 加密密钥 (32 字节 / 256 位，Base64 编码)
ENCRYPTION_KEY=your_base64_encoded_32_byte_key_here

# 限流配置
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# 管理员 IP 白名单 (逗号分隔)
ADMIN_IP_WHITELIST=127.0.0.1,10.0.0.0/8

# ============================================
# SMTP 邮件服务配置
# ============================================
SMTP_ENABLED=true
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=noreply@example.com
SMTP_PASSWORD=your_smtp_password_here
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=Zinnia
# 是否使用 TLS (true/false)
SMTP_TLS=true
# 验证码有效期（秒）
EMAIL_VERIFICATION_CODE_EXPIRY_SECONDS=600
# 每小时每邮箱最大发送次数
EMAIL_MAX_SENDS_PER_HOUR=5

# ============================================
# Google reCAPTCHA v2 配置
# ============================================
RECAPTCHA_ENABLED=true
# 从 https://www.google.com/recaptcha/admin 获取
RECAPTCHA_SITE_KEY=your_recaptcha_site_key_here
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key_here
# 验证分数阈值 (0.0 - 1.0，仅 v3 使用)
RECAPTCHA_SCORE_THRESHOLD=0.5

# ============================================
# 注册安全配置
# ============================================
# 同一 IP 每小时最大注册次数
REGISTRATION_MAX_PER_IP_PER_HOUR=5
# 同一 IP 每天最大注册次数
REGISTRATION_MAX_PER_IP_PER_DAY=10
# 是否强制要求邮箱验证
REGISTRATION_REQUIRE_EMAIL_VERIFICATION=true
# 是否强制要求 reCAPTCHA
REGISTRATION_REQUIRE_RECAPTCHA=true
