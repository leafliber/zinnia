# Zinnia 生产环境配置模板
# 此文件由 scripts/deploy.sh 自动生成
# 请勿手动编辑，使用部署脚本进行配置

# ==================== 服务配置 ====================
APP_HOST=0.0.0.0
APP_PORT=8080
APP_ENV=production
RUST_LOG=info
RUST_BACKTRACE=0

# ==================== 数据库配置 ====================
POSTGRES_USER=zinnia
POSTGRES_DB=zinnia
DATABASE_MAX_CONNECTIONS=50
DATABASE_MIN_CONNECTIONS=10
# POSTGRES_PASSWORD 和 DATABASE_URL 通过 secrets 提供

# ==================== Redis 配置 ====================
# REDIS_URL 和 REDIS_PASSWORD 通过 secrets 提供

# ==================== 安全配置 ====================
# JWT_SECRET 通过 secrets/jwt_secret 提供
JWT_EXPIRY_SECONDS=900
REFRESH_TOKEN_EXPIRY_DAYS=7
# ENCRYPTION_KEY 通过 secrets/encryption_key 提供

# ==================== 限流配置 ====================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# ==================== SMTP 邮件服务配置 ====================
ZINNIA_SMTP__ENABLED=false
ZINNIA_SMTP__HOST=smtp.example.com
ZINNIA_SMTP__PORT=465
ZINNIA_SMTP__USERNAME=
# SMTP_PASSWORD 通过 secrets/smtp_password 提供（如果启用）
ZINNIA_SMTP__FROM_EMAIL=noreply@example.com
ZINNIA_SMTP__FROM_NAME=Zinnia
ZINNIA_SMTP__TLS=true
ZINNIA_SMTP__CODE_EXPIRY_SECONDS=600
ZINNIA_SMTP__MAX_SENDS_PER_HOUR=30

# ==================== Google reCAPTCHA 配置 ====================
ZINNIA_RECAPTCHA__ENABLED=false
ZINNIA_RECAPTCHA_SITE_KEY=
# RECAPTCHA_SECRET_KEY 通过 secrets/recaptcha_secret 提供（如果启用）
ZINNIA_RECAPTCHA__SCORE_THRESHOLD=0.5

# ==================== 注册安全配置 ====================
ZINNIA_REGISTRATION__MAX_PER_IP_PER_HOUR=3
ZINNIA_REGISTRATION__MAX_PER_IP_PER_DAY=10
ZINNIA_REGISTRATION__REQUIRE_EMAIL_VERIFICATION=false
ZINNIA_REGISTRATION__REQUIRE_RECAPTCHA=false

# ==================== Docker 配置 ====================
DOCKER_REGISTRY=
IMAGE_TAG=latest

# ==================== 域名配置 ====================
DOMAIN=localhost
SSL_EMAIL=

# ==================== 备份配置 ====================
BACKUP_RETENTION_DAYS=7

# ==================== Web Push (PWA) 通知配置 ====================
# VAPID 密钥用于 Web Push 身份验证（可选）
# 生成方法：npx web-push generate-vapid-keys
# 如果不配置，Web Push 功能将被禁用
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
